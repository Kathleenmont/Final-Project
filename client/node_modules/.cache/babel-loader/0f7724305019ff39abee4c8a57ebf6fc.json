{"ast":null,"code":"var _jsxFileName = \"/Users/kathleenmontesano/upenn/homework/Final-Project/client/src/components/Login/index.js\";\nimport React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport auth from \"../../utils/auth.js\";\nimport API from \"../../utils/API\";\nimport SignUp from \"../SignUp\";\n\nfunction Login(props) {\n  var _this = this;\n\n  state = {\n    redirectToReferrer: false,\n    userName: \"\",\n    password: \"\",\n    isUser: Boolean\n  }; // handleInputChange = e => {\n  //   // Getting the value and name of the input which triggered the change\n  //   let value = e.target.value;\n  //   const name = e.target.name;\n  //   if (name === \"password\") {\n  //     value = value.substring(0, 15);\n  //   }\n  //   console.log(\"name \" + name)\n  //   console.log(\"value \" + value)\n  //   // Updating the input's state\n  //   this.setState({\n  //     [name]: value\n  //   });\n  // };\n\n  login = function login(e) {\n    e.preventDefault();\n    console.log(_this.state);\n    var userName = _this.state.userName;\n    var password = _this.state.password;\n    var userInfo = {\n      userName: userName,\n      password: password\n    };\n\n    if (!_this.state.password || !_this.state.userName) {\n      alert(\"Please fill out form!\");\n    } else if (_this.state.password.length < 6) {\n      alert(\"Password must be at least 6 charactors long.\");\n    } else {\n      console.log(userInfo);\n      API.checkUserLogin(userInfo).then(function (res) {\n        console.log(res.data);\n        res.data === null ? _this.setState({\n          isUser: false\n        }) : _this.setState({\n          isUser: true\n        });\n        console.log(_this.state);\n\n        if (_this.state.isUser === true) {\n          console.log(\"true!!!!!!\");\n          auth.authenticate(function () {\n            _this.setState(function () {\n              return {\n                redirectToReferrer: true\n              };\n            });\n          }, userName); // alert(`Hello ${this.state.firstName} ${this.state.lastName}`);\n        } else {\n          console.log(\"try to login again ro go to sign in \");\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      console.log(_this.state);\n    }\n  }; // render() {\n  // const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n  // const { redirectToReferrer } = this.state;\n  // if (redirectToReferrer === true) {\n  //   return <Redirect to={\"/saved\"} />;\n  // }\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-6 col-md-offset-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Login Form\"), React.createElement(\"form\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"inputUserNameLogin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"User Name\"), React.createElement(\"input\", {\n    // value={this.state.userName}\n    name: \"userName\",\n    onChange: props.handleInputChange,\n    type: \"userName\",\n    className: \"form-control\",\n    id: \"userName-input\",\n    placeholder: \"User Name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"inputPasswordLogin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    // value={this.state.password}\n    name: \"password\",\n    onChange: props.handleInputChange,\n    type: \"password\",\n    className: \"form-control\",\n    id: \"password-input\",\n    placeholder: \"Password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    onClick: props.login,\n    className: \"btn btn-default\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Login\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Or sign up \", React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"here\")))))); // }\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/kathleenmontesano/upenn/homework/Final-Project/client/src/components/Login/index.js"],"names":["React","Redirect","Route","auth","API","SignUp","Login","props","state","redirectToReferrer","userName","password","isUser","Boolean","login","e","preventDefault","console","log","userInfo","alert","length","checkUserLogin","then","res","data","setState","authenticate","catch","err","handleInputChange"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport auth from \"../../utils/auth.js\";\nimport API from \"../../utils/API\"\nimport SignUp from \"../SignUp\"\n\n\nfunction Login (props)  {\n  state = {\n    redirectToReferrer: false,\n    userName: \"\",\n    password: \"\",\n    isUser: Boolean\n  };\n\n  // handleInputChange = e => {\n  //   // Getting the value and name of the input which triggered the change\n  //   let value = e.target.value;\n  //   const name = e.target.name;\n    \n  //   if (name === \"password\") {\n  //     value = value.substring(0, 15);\n  //   }\n\n  //   console.log(\"name \" + name)\n  //   console.log(\"value \" + value)\n  //   // Updating the input's state\n  //   this.setState({\n  //     [name]: value\n  //   });\n  // };\n\n  login = (e) => {\n    e.preventDefault();\n    console.log(this.state)\n    let userName = this.state.userName;\n    let password = this.state.password;\n    let userInfo = {userName: userName, password: password}\n    if (!this.state.password || !this.state.userName) {\n        alert(\"Please fill out form!\");\n      } else if (this.state.password.length < 6) {\n        alert(\n          `Password must be at least 6 charactors long.`\n        );\n      } else {\n        console.log(userInfo)\n        API.checkUserLogin(userInfo)\n        \n        .then(res => {\n          console.log(res.data);\n         (res.data === null) ? this.setState({isUser: false}) : this.setState({isUser: true});\n         console.log(this.state)\n         if (this.state.isUser === true) {\n            console.log(\"true!!!!!!\")\n        auth.authenticate(() => {\n            this.setState(() => ({\n              redirectToReferrer: true,\n             \n            }));\n          }, userName);\n        // alert(`Hello ${this.state.firstName} ${this.state.lastName}`);\n      } else {\n          console.log(\"try to login again ro go to sign in \")\n      }\n        })\n  \n        .catch(err => console.log(err));\n      console.log(this.state);\n    \n    }\n  \n   \n  };\n  // render() {\n    // const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n    // const { redirectToReferrer } = this.state;\n\n    // if (redirectToReferrer === true) {\n    //   return <Redirect to={\"/saved\"} />;\n    // }\n\n    return (\n      <div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-6 col-md-offset-3\">\n              <h2>Login Form</h2>\n              <form className=\"login\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"inputUserNameLogin\">User Name</label>\n                  <input\n                    // value={this.state.userName}\n                    name=\"userName\"\n                    onChange={props.handleInputChange}\n                    type=\"userName\"\n                    className=\"form-control\"\n                    id=\"userName-input\"\n                    placeholder=\"User Name\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"inputPasswordLogin\">Password</label>\n                  <input\n                    // value={this.state.password}\n                    name=\"password\"\n                    onChange={props.handleInputChange}\n                    \n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"password-input\"\n                    placeholder=\"Password\"\n                  />\n                </div>\n                <button onClick={props.login}   className=\"btn btn-default\">\n                  Login\n                </button>\n              </form>\n              <br />\n              <p>\n                Or sign up <a >here</a>\n              </p>\n            </div>\n          </div>\n        </div>\n        {/* <p>You must log in to view the page </p> */}\n        {/* <button onClick={this.login}>Log in</button> */}\n      </div>\n    );\n  // }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}